<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
      PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="hr.attendance.p0001">
	<resultMap id="p0001Result01" type="day_regist_VO">
		<result property="FK_DAILY_TA_SAWON_CODE" column="FK_DAILY_TA_SAWON_CODE" />
		<result property="FK_DAILY_TA_DEPT_CODE" column="FK_DAILY_TA_DEPT_CODE" />
		<result property="PK_DAILY_TA_WORKING_DATE" column="PK_DAILY_TA_WORKING_DATE" />
		<result property="DAILY_TA_SAWON_NAME" column="DAILY_TA_SAWON_NAME" />
		<result property="DAILY_TA_RANK" column="DAILY_TA_RANK" />
		<result property="DAILY_TA_DEPT_NAME" column="DAILY_TA_DEPT_NAME" />
		<result property="DAILY_TA_TA" column="DAILY_TA_TA" />
		<result property="DAILY_TA_GO_TIME" column="DAILY_TA_GO_TIME" />
		<result property="DAILY_TA_OFF_TIME" column="DAILY_TA_OFF_TIME" />
		<result property="DAILY_TA_WORK_TIME" column="DAILY_TA_WORK_TIME" />
		<result property="DAILY_TA_HOLI_WORK" column="DAILY_TA_HOLI_WORK" />
		<result property="DAILY_TA_EXTEN_WORK" column="DAILY_TA_EXTEN_WORK" />
		<result property="DAILY_TA_NIGHT_WORK" column="DAILY_TA_NIGHT_WORK" />
		<result property="DAILY_TA_LATE_TIME" column="DAILY_TA_LATE_TIME" />
		<result property="DAILY_TA_LEAVE_TIME" column="DAILY_TA_LEAVE_TIME" />
		<result property="DAILY_TA_INT_USER_ID" column="DAILY_TA_INT_USER_ID" />
		<result property="DAILY_TA_INT_DATE" column="DAILY_TA_INT_DATE" />
		<result property="DAILY_TA_MOD_USER_ID" column="DAILY_TA_MOD_USER_ID" />
		<result property="DAILY_TA_MOD_DATE" column="DAILY_TA_MOD_DATE" />
		
		
	</resultMap>
<!-- 사원 근태등록 화면 조회 -->
	<select id="searchList" resultMap="p0001Result01" parameterType="java.util.Map"> 
      <![CDATA[
         select D.PK_DAILY_TA_WORKING_DATE,S.SAWON_NAME, D.DAILY_TA_SAWON_NAME, D.DAILY_TA_RANK, D.DAILY_TA_DEPT_NAME, D.DAILY_TA_TA,
          D.DAILY_TA_GO_TIME, D.DAILY_TA_OFF_TIME, D.DAILY_TA_WORK_TIME,D.DAILY_TA_HOLI_WORK,D.DAILY_TA_EXTEN_WORK,
          D.DAILY_TA_NIGHT_WORK,D.DAILY_TA_LATE_TIME,D.DAILY_TA_LEAVE_TIME
         from DAILY_TA D, SAWON S
       where D.FK_DAILY_TA_SAWON_CODE = S.PK_SAWON_CODE
          and D.PK_DAILY_TA_WORKING_DATE = #{PK_DAILY_TA_WORKING_DATE}
          
          
    
      ]]>
		<!--    <where>-->
			<!--  <if test="PK_DAILY_TA_WORKING_DATE != ''  and  PK_DAILY_TA_WORKING_DATE != null">-->
	<!-- </where>  -->	
	</select>
	
	<!-- 근태등록 화면 / 관리자 화면 -->
	<select id="da_searchList" resultMap="p0001Result01" parameterType="java.util.Map"> 
      <![CDATA[
         select D.PK_DAILY_TA_WORKING_DATE,S.SAWON_NAME, D.DAILY_TA_SAWON_NAME, D.DAILY_TA_RANK, D.DAILY_TA_DEPT_NAME, D.DAILY_TA_TA,
          D.DAILY_TA_GO_TIME, D.DAILY_TA_OFF_TIME, D.DAILY_TA_WORK_TIME,D.DAILY_TA_HOLI_WORK,D.DAILY_TA_EXTEN_WORK,
          D.DAILY_TA_NIGHT_WORK,D.DAILY_TA_LATE_TIME,D.DAILY_TA_LEAVE_TIME
         from DAILY_TA D, SAWON S
       where D.FK_DAILY_TA_SAWON_CODE = S.PK_SAWON_CODE
          and D.PK_DAILY_TA_WORKING_DATE = #{PK_DAILY_TA_WORKING_DATE}
          
          
    
      ]]>
		<!--    <where>-->
			<!--  <if test="PK_DAILY_TA_WORKING_DATE != ''  and  PK_DAILY_TA_WORKING_DATE != null">-->
	<!-- </where>  -->	
	</select>
	
	
	
	

	<update id="updateData" parameterType="java.util.Map">
		<!--  update DAILY_TA
		set  DAILY_TA_SAWON_NAME = #{daily_TA_SAWON_NAME,jdbcType=VARCHAR}
		   , DAILY_TA_RANK = #{daily_TA_RANK,jdbcType=VARCHAR}
		   , DAILY_TA_DEPT_NAME = #{daily_TA_DEPT_NAME,jdbcType=VARCHAR}
		   , DAILY_TA_TA = #{daily_TA_TA,jdbcType=VARCHAR}
		   , DAILY_TA_GO_TIME = #{daily_TA_GO_TIME,jdbcType=VARCHAR}
		   , DAILY_TA_OFF_TIME = #{daily_TA_OFF_TIME,jdbcType=VARCHAR}
		   , DAILY_TA_WORK_TIME = #{daily_TA_WORK_TIME,jdbcType=VARCHAR}
		   , DAILY_TA_HOLI_WORK = #{daily_TA_HOLI_WORK,jdbcType=VARCHAR}
		   , DAILY_TA_EXTEN_WORK = #{daily_TA_EXTEN_WORK,jdbcType=VARCHAR}
		   , DAILY_TA_NIGHT_WORK = #{daily_TA_NIGHT_WORK,jdbcType=VARCHAR}
		   , DAILY_TA_LATE_TIME = #{daily_TA_LATE_TIME,jdbcType=VARCHAR}
		   , DAILY_TA_LEAVE_TIME = #{daily_TA_LEAVE_TIME,jdbcType=VARCHAR}
		   
		where PK_DAILY_TA_WORKING_DATE = #{pk_DAILY_TA_WORKING_DATE, jdbcType=VARCHAR} -->
	
	</update>	
	
	<insert id="insertData" parameterType="java.util.Map">
		insert into daily_TA(PK_DAILY_TA_WORKING_DATE, DAILY_TA_SAWON_NAME, DAILY_TA_RANK, DAILY_TA_DEPT_NAME, DAILY_TA_TA, DAILY_TA_GO_TIME,
		 DAILY_TA_OFF_TIME, DAILY_TA_WORK_TIME, DAILY_TA_HOLI_WORK, DAILY_TA_EXTEN_WORK, DAILY_TA_NIGHT_WORK, DAILY_TA_LATE_TIME, DAILY_TA_LEAVE_TIME) 
		 values(#{pk_DAILY_TA_WORKING_DATE, ,jdbcType=VARCHAR}, #{daily_TA_SAWON_NAME, ,jdbcType=VARCHAR}, #{daily_TA_RANK,jdbcType=VARCHAR}, 
		 #{daily_TA_DEPT_NAME,jdbcType=VARCHAR}, #{daily_TA_TA,jdbcType=VARCHAR}, #{daily_TA_GO_TIME,jdbcType=VARCHAR}, #{daily_TA_OFF_TIME,jdbcType=VARCHAR},
		  #{daily_TA_WORK_TIME,jdbcType=VARCHAR}, #{daily_TA_HOLI_WORK,jdbcType=VARCHAR}, #{daily_TA_EXTEN_WORK,jdbcType=VARCHAR}, #{daily_TA_NIGHT_WORK,jdbcType=VARCHAR}
		  ,#{daily_TA_LATE_TIME,jdbcType=VARCHAR}, #{daily_TA_LEAVE_TIME,jdbcType=VARCHAR})
	</insert>	
	
	<delete id="deleteData" parameterType="java.util.Map">
		delete customers
		where cust_id = #{cust_id}
	</delete>	

</mapper>