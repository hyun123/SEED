<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
      PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="hr.human.s0002">	
	<resultMap id="s0002Result01" type="workEnroll_VO">
		<result property="pk_workplace_code" column="pk_workplace_code" />
		<result property="fk_company_code" column="fk_company_code" />
		<result property="workplace_name" column="workplace_name" />
		<result property="workplace_com_reg_num" column="workplace_com_reg_num" />
		<result property="workplace_corp_reg_num" column="workplace_corp_reg_num" />
		<result property="workplace_rep_name" column="workplace_rep_name" />
		<result property="workplace_zip" column="workplace_zip" />
		<result property="workplace_address" column="workplace_address" />
		<result property="workplace_detail_address" column="workplace_detail_address" />
		<result property="workplace_tel" column="workplace_tel" />
		<result property="workplace_fax" column="workplace_fax" />
		<result property="workplace_business" column="workplace_business" />
		<result property="workplace_stocks" column="workplace_stocks" />
		<result property="workplace_open_date" column="workplace_open_date" />
		<result property="workplace_closed_date" column="workplace_closed_date" />
		<result property="workplace_headoff_whe" column="workplace_headoff_whe" />
		
		<result property="workplace_int_user_id" column="workplace_int_user_id" />
		<result property="workplace_int_date" column="workplace_int_date" />
		<result property="workplace_mod_user_id" column="workplace_mod_user_id" />
		<result property="workplace_mod_date" column="workplace_mod_date" />
		<!--
		<result property="pk_company_code" column="pk_company_code" />
		 workplace의 모든 칼럼 및 fk_company_code 가져옴
			pk_workplace_code, fk_company_code, workplace_name, workplace_com_reg_num, workplace_corp_reg_num
			, workplace_rep_name, workplace_zip, workplace_address, workplace_detail_address, workplace_tel
			, workplace_fax, workplace_business, workplace_stocks, workplace_open_date, workplace_closed_date
			, workplace_headoff_whe, workplace_int_user_id, workplace_int_date, workplace_mod_user_id
			, workplace_mod_date, pk_company_code
		 -->
	</resultMap>

	<select id="searchList" resultMap="s0002Result01" parameterType="java.util.Map"> 
      <![CDATA[
         select pk_workplace_code, fk_company_code, workplace_name, workplace_com_reg_num, workplace_corp_reg_num
				, workplace_rep_name, workplace_zip, workplace_address, workplace_detail_address, workplace_tel
				, workplace_fax, workplace_business, workplace_stocks
				, TO_CHAR(TO_DATE(workplace_open_date),'YYYY-MM-DD') as workplace_open_date 
				, TO_CHAR(TO_DATE(workplace_closed_date),'YYYY-MM-DD') as workplace_closed_date 
				, workplace_headoff_whe, workplace_int_user_id, workplace_int_date, workplace_mod_user_id
				, workplace_mod_date
         from   workplace
      ]]>
		<where>
			<if test=" p_id != ''  and  p_id != null">
				pk_workplace_code = #{p_id}
			</if>
		</where>
		order By pk_workplace_code asc
	</select>
	
	<update id="updateData" parameterType="java.util.Map">
		update workplace
		set fk_company_code = #{fk_company_code,jdbcType=VARCHAR}
		   , workplace_name = #{workplace_name,jdbcType=VARCHAR}
		   , workplace_com_reg_num = #{workplace_com_reg_num,jdbcType=VARCHAR}
		   , workplace_corp_reg_num = #{workplace_corp_reg_num,jdbcType=VARCHAR}
		   , workplace_rep_name = #{workplace_rep_name,jdbcType=VARCHAR}
		   , workplace_zip = #{workplace_zip,jdbcType=VARCHAR}
		   , workplace_address = #{workplace_address,jdbcType=VARCHAR}
		   , workplace_detail_address = #{workplace_detail_address,jdbcType=VARCHAR}
		   , workplace_tel = #{workplace_tel,jdbcType=VARCHAR}
		   , workplace_fax = #{workplace_fax,jdbcType=VARCHAR}
		   , workplace_business = #{workplace_business,jdbcType=VARCHAR}
		   , workplace_stocks = #{workplace_stocks,jdbcType=VARCHAR}
		   , workplace_open_date = #{workplace_open_date,jdbcType=VARCHAR}
		   , workplace_closed_date = #{workplace_closed_date,jdbcType=VARCHAR}
		   , workplace_headoff_whe = #{workplace_headoff_whe,jdbcType=VARCHAR}
		   , workplace_int_user_id = #{workplace_int_user_id,jdbcType=VARCHAR}
		   , workplace_int_date = #{workplace_int_date,jdbcType=TIMESTAMP}
		   , workplace_mod_user_id = #{workplace_mod_user_id,jdbcType=VARCHAR}
		   , workplace_mod_date = #{workplace_mod_date,jdbcType=TIMESTAMP}
		   
		where pk_workplace_code = #{pk_workplace_code, jdbcType=VARCHAR}
	</update>	
	
	<insert id="insertData" parameterType="java.util.Map">
		insert into workplace(pk_workplace_code, fk_company_code, workplace_name, workplace_com_reg_num, workplace_corp_reg_num
							, workplace_rep_name, workplace_zip, workplace_address, workplace_detail_address, workplace_tel
							, workplace_fax, workplace_business, workplace_stocks, workplace_open_date, workplace_closed_date
							, workplace_headoff_whe, workplace_int_user_id, workplace_int_date, workplace_mod_user_id
							, workplace_mod_date) 
			   values(#{pk_workplace_code, jdbcType=VARCHAR},#{fk_company_code, jdbcType=VARCHAR},#{workplace_name, jdbcType=VARCHAR},#{workplace_com_reg_num, jdbcType=VARCHAR},
			   		  #{workplace_corp_reg_num, jdbcType=VARCHAR},#{workplace_rep_name, jdbcType=VARCHAR},#{workplace_zip, jdbcType=VARCHAR},#{workplace_address, jdbcType=VARCHAR},
			   		  #{workplace_detail_address, jdbcType=VARCHAR},#{workplace_tel, jdbcType=VARCHAR},#{workplace_fax, jdbcType=VARCHAR},#{workplace_business, jdbcType=VARCHAR},
			   		  #{workplace_stocks, jdbcType=VARCHAR},#{workplace_open_date, jdbcType=VARCHAR},#{workplace_closed_date, jdbcType=VARCHAR},#{workplace_headoff_whe, jdbcType=VARCHAR},
			   		  #{workplace_int_user_id, jdbcType=VARCHAR},#{workplace_int_date, jdbcType=TIMESTAMP},#{workplace_mod_user_id, jdbcType=VARCHAR},#{workplace_mod_date, jdbcType=TIMESTAMP}
					  )
	</insert>	
	
	<delete id="deleteData" parameterType="java.util.Map">
		delete workplace
		where pk_workplace_code = #{pk_workplace_code}
		and workplace_name = #{workplace_name}
	</delete>	

</mapper>